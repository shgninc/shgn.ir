title: راه اندزای گلرا کلاستر با داکر
briefing: با فراگیر شدن کانتینرها برای سرویس های مختلف، یکی از ساده ترین و راحت ترین این برنامه ها برای کنترل و مدیریت کانتینرها `docker` می باشد.
date_time: 2023-12-20 13:28
slug: galera-cluster-by-docker
tags: linux, database, mariadb, docker, galera, cluster
type: post

با توجه به استفاده از تکنولوژی های مجازی سازی و رفتن به سمت فراگیر شدن کانتینرها برای سرویس های
مختلف، یکی از ساده ترین و راحت ترین این برنامه ها برای کنترل و مدیریت کانتینرها `docker` می باشد.

#مقدمه
در پروژه ها و برنامه های امروزی استفاده از دیتابیس اجتناب ناپذیر است. با توجه به نوع برنامه، نوع 
نگهداری دیتای برنامه ها دارای اهمیت می شود. که با راهکارهایی از قبیل `کلاستر` کردن سرویس و 
دیتا، ضریب پایداری آن را به شدت افزایش می دهند.

در این بین یکی از محبوب ترین و پر استفاده ترین دیتابیس ها `mariadb` است. که این دیتابیس نیز از
`galera cluster` برای کلاسترینگ دیتا بهره می برد. نحوه نصب کلاستر گلرا را در مطلب 
[نصب Galera Cluster بر روی debian 10](https://shgn.ir/2021-03-07/galera-cluster-debian-10.html)
قبلا توضیح داده ام.

همچنین در این نوشته قصد داریم تا راه اندازی `گلرا کلاستر` را به صورت کانتینری بیان کنیم، 
پس لازم است تا مطلب نصب داکر، نیز در لینک
[نصب Docker روی Debian 10](https://shgn.ir/2020-08-15/installing_docker_on_debian.html)
مطالعه شود.

#پیش فرض ها
برای شروع ما حداقل به ۳ سرور داکری نیازمندیم.

آدرس های سرور ها:

    db1 192.168.1.41
    db2 192.168.1.42
    db3 192.168.1.43

نیازمندی دیگر ما، فایل های `docker-compose.yml` می باشد که روی این ۳ سرور برای اجرای سرویس 
دیتابیس و کلاستر آن به ترتیب زیر هستند:

